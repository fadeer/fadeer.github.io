---
layout: post
title:  "远程桌面玩游戏"
date:   2015-07-14 10:20:00
author: fadeer
categories: 工作
tags: Game Cloud
---

远程桌面协议
----
在每个VDI方案里，核心业务之一就是远程桌面的体验，这是用户最终感受VDI服务效果的界面。远程桌面协议的效率是各家VDI厂商优化的重点，无论是Citrix的HDX、微软的RDP、Vmware使用的PCoIP，每一代产品的更新都会包含远程协议的改善。
从逻辑上看，远程协议的体验分为两部分：

* 一方面是**画面更新**，就是远程桌面内容变化如何完整的推送到用户端，这方面突出的例子是全屏的视频播放，画面质量和流畅度是用户体验的关键。
* 另一方面就是**操作的响应**，就是用户使用鼠标点击拖动桌面某些物体时，所带来的结果（画面变化）可以即时的反映到终端画面上，让用户体验的迟滞感越少越好，这方面的例子就是2D绘图、3D建模等应用。

而对画面更新和操作响应都有极端要求的场景就是游戏，因此远程桌面玩游戏就成了各个桌面协议比拼、显摆的重要场景，当微软在[2008R2 SP1引入RemoteFX][remotefx]时，远程桌面里玩游戏就是个很好的展示和噱头。同时，这也是一众远程辅助软件（比如splashtop、teamviewer）乐于宣传的功能。

同时，由于VDI这样远程服务的便利性，用户可以随时随地，使用简易设备访问桌面；于是，基于远程桌面协议的“云游戏”服务也就应运而生了。

云游戏服务的先行者
----
这其中的先驱，当属2009年发布的**Onlive**，该服务于2010年正式上线，早期的设备是一个99刀的小盒子，当然也有PC客户端，后来也推出了iOS的客户端，平板上玩主机游戏终于成了现实。同时期出现的类似服务还有**GaiKai**等。

这类服务最重要的客户就是轻度玩家（按小时付费，稍微玩玩就得）和老PC持有者（实在跟不上显卡、CPU发展了）；再移动设备端支持以后，也更多的扩展了轻度玩家的受众范围。
<!--preview-end-->

但是，这些服务都是国外的，对于国内玩家，画面更新和操作响应都会有天然的瓶颈，而国内也有很多此类服务的响应者，诞生了一批云游戏服务平台，比如**CloudUnion、鹏游云游戏**等。从某些评测来看，效果尚可，但是还不足以成为大众的选择。

然后呢，就没有然后了，这批早期的玩儿家基本都拍在沙滩上了。一是市场还没培育的很好，而且当前带宽的还不能保证大多数用户能体验到理想的效果。所以有很好的概念，但是没达到生根发芽的时机。

主机游戏大玩家
----
这时，该两大主机厂商（咦，不是三大么）出手了，他们握有各自的主机平台、游戏厂商、网络服务、大批的游戏拥趸和市场宣传，确实更有机会把云游戏的服务带给广大消费者。

先看**索尼**，2012年7月[收购了GaiKai][ac-gaikai]，于2014年1月发布了自家的云游戏服务[PlayStation Now][psnow]，游戏按时收费（比如3刀4小时），用户可以用手里的PS3、PSVITA作为终端体验云游戏的感觉；2014年6月推出了名为Playstation TV的终端盒子，开始也是99刀。2015年1月，PS Now服务[正式在北美上线][psnow-online]，包月20刀。今年5月，索尼再次出手，[收了坚持不下去的Onlive][ac-onlive]，应该对PS Now未来会有重要的支持，那么索尼游戏服务目前体验如何，可以先参考[台湾玩家的体验][now-test]。

跟索尼收购策略不同，**微软**更像是自力更生发展的，虽然还没有正式提供服务，但是技术展示一直很积极。2013年9月，微软就在内部会议上展示了代号为“Rio”的云游戏服务，使用Windows Phone设备（Lumia 520）[玩主机游戏Halo4][lumia-halo]，延迟低至45ms。直接上手机体验，这才够意思。2014年8月，微软研究院的报告中提到了[“预测执行引擎”DeLorean][deloream]，尽管微软的Azure服务器和游戏玩家的设备之间有着各种原因的网络延迟，但这个引擎能够从云端输出看似无延迟的游戏。“DeLorean的关键是**推测的**描述。视频游戏一般不能像YouTube或Netflix上的视频那样进行缓存，因为玩家的操作会影响到屏幕上的行为——如果我在《泰坦陨落》游戏中开了一枪，而游戏显示的是我在跳跃，那我会很生气。但通过查看以前玩家的输入和对最有可能的玩家动作进行样本收集，微软找到了一种方法来**预测玩家可能会采取的行为**，然后将每个人的视频**提前发送出去**，在游戏进行过程中展示给玩家最准确的猜测。” 好吧，**我都会俩答案了**。但是这种以带宽换响应体验的策略，不失为一种好办法。今年5月，代号为[Kahawai研究项目][kahawai]，在更深度的方式利用云服务来优化移动端的游戏表现。

即便是索尼、微软这样的游戏大厂，对于云游戏的发展也还是很谨慎的。因为最终用户会在投入（游戏机、移动设备、带宽、游戏盘、服务费）、体验（画质、操作感）、移动性等方面做一个平衡。但是从趋势来看，宽带越来越不是问题（眼看就快上100兆了）、无线越来越顺畅（脸皮都快吹跑了），随时随地玩上顶级游戏（手机的4K屏不要浪费啊，跑足60fps才是正经事）会是未来习以为常的体验了。

[ac-onlive]: http://www.inside.com.tw/2015/04/05/sony-buys-onlive-streaming-game-service
[ac-gaikai]: http://www.digitimes.com.tw/tw/rpt/rpt_show.asp?v=20120709-391
[psnow]: https://zh.wikipedia.org/wiki/PlayStation_Now
[psnow-online]: http://www.techbang.com/posts/21819-ps-now-formally-launched-january-13-beginning-in-north-america-service
[lumia-halo]: http://livesino.net/archives/6141.live 
[deloream]: http://www.pingwest.com/cloud-games-delorean/
[kahawai]: http://livesino.net/archives/8467.live
[now-test]: http://www.techbang.com/posts/23760-exploring-the-cloud-game-mechanic-ps-now-compactor
[remotefx]: https://en.wikipedia.org/wiki/RemoteFX
